<ion-header>
	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>Accueil</ion-title>
	</ion-navbar>
</ion-header>

<ion-content padding>
	<ion-refresher (ionRefresh)="doRefresh($event)">
		<ion-refresher-content></ion-refresher-content>
	</ion-refresher>

	<ion-searchbar [(ngModel)]="searchTerm" (ionInput)="searchProducts()" class="searchbar"
				   placeholder="Rechercher un produit">
		<div *ngIf="searching" class="spinner-container">
			<ion-spinner></ion-spinner>
		</div>
	</ion-searchbar>

	<ion-list>
		<ion-item *ngFor="let item of searchResults" (click)="selectProduct($event,item)">
			{{item.name}}
		</ion-item>
	</ion-list>


	<button ion-button block full (click)="vendorAccess($event)" color="carotte" *ngIf="isShop">
		Acceder à mon espace commerçant
	</button>


	<h3>Offres du jour</h3>
	<ion-list>
		<button ion-item *ngFor="let p of availableProducts" (click)="selectProduct($event,p)">
			<ion-avatar item-start>
				<img [src]="this.p.images[0].src">
			</ion-avatar>
			{{p.name}}
		</button>
	</ion-list>
</ion-content>
